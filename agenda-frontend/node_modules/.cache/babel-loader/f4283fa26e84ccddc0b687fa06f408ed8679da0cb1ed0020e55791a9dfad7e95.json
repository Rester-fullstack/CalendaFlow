{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xovma\\\\Downloads\\\\agenda-frontend\\\\src\\\\components\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport EventForm from './EventForm';\nimport api from '../services/api';\nimport '..components/calen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar() {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [editingEvent, setEditingEvent] = useState(null);\n  const token = localStorage.getItem('token'); // Assumindo que você guarda o JWT aqui\n\n  // Buscar eventos do usuário logado no backend\n  useEffect(() => {\n    if (!token) return;\n    api.get('/events/me', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setEvents(res.data)).catch(err => console.error(err));\n  }, [token]);\n\n  // Abrir formulário ao clicar em uma data\n  function handleDateClick(info) {\n    setSelectedDate(info.dateStr);\n    setEditingEvent(null);\n    setShowForm(true);\n  }\n\n  // Abrir formulário para editar evento\n  function handleEventClick(clickInfo) {\n    setEditingEvent(clickInfo.event);\n    setShowForm(true);\n  }\n\n  // Salvar evento (criar ou editar)\n  function handleSave(eventData) {\n    if (editingEvent) {\n      // Editar\n      api.put(`/events/${editingEvent.id}`, eventData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        setEvents(events.map(ev => ev.id === editingEvent.id ? res.data : ev));\n        setShowForm(false);\n      }).catch(err => console.error(err));\n    } else {\n      // Criar\n      api.post('/events', eventData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        setEvents([...events, res.data]);\n        setShowForm(false);\n      }).catch(err => console.error(err));\n    }\n  }\n\n  // Deletar evento\n  function handleDelete(eventId) {\n    api.delete(`/events/${eventId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      setEvents(events.filter(ev => ev.id !== eventId));\n      setShowForm(false);\n    }).catch(err => console.error(err));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-container\",\n    children: [/*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n      initialView: \"dayGridMonth\",\n      events: events,\n      dateClick: handleDateClick,\n      eventClick: handleEventClick,\n      editable: false,\n      selectable: true,\n      height: \"auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(EventForm, {\n      event: editingEvent,\n      date: selectedDate,\n      onSave: handleSave,\n      onDelete: handleDelete,\n      onClose: () => setShowForm(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"BmKDR2l53Y/SVPAbcAog0blcZ+E=\");\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","EventForm","api","jsxDEV","_jsxDEV","Calendar","_s","events","setEvents","showForm","setShowForm","selectedDate","setSelectedDate","editingEvent","setEditingEvent","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","err","console","error","handleDateClick","info","dateStr","handleEventClick","clickInfo","event","handleSave","eventData","put","id","map","ev","post","handleDelete","eventId","delete","filter","className","children","plugins","initialView","dateClick","eventClick","editable","selectable","height","fileName","_jsxFileName","lineNumber","columnNumber","date","onSave","onDelete","onClose","_c","$RefreshReg$"],"sources":["C:/Users/xovma/Downloads/agenda-frontend/src/components/Calendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport EventForm from './EventForm';\r\nimport api from '../services/api';\r\nimport '..components/calen';\r\n\r\nexport default function Calendar() {\r\n  const [events, setEvents] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [editingEvent, setEditingEvent] = useState(null);\r\n\r\n  const token = localStorage.getItem('token'); // Assumindo que você guarda o JWT aqui\r\n\r\n  // Buscar eventos do usuário logado no backend\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    api.get('/events/me', { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(res => setEvents(res.data))\r\n      .catch(err => console.error(err));\r\n  }, [token]);\r\n\r\n  // Abrir formulário ao clicar em uma data\r\n  function handleDateClick(info) {\r\n    setSelectedDate(info.dateStr);\r\n    setEditingEvent(null);\r\n    setShowForm(true);\r\n  }\r\n\r\n  // Abrir formulário para editar evento\r\n  function handleEventClick(clickInfo) {\r\n    setEditingEvent(clickInfo.event);\r\n    setShowForm(true);\r\n  }\r\n\r\n  // Salvar evento (criar ou editar)\r\n  function handleSave(eventData) {\r\n    if (editingEvent) {\r\n      // Editar\r\n      api.put(`/events/${editingEvent.id}`, eventData, { headers: { Authorization: `Bearer ${token}` } })\r\n        .then(res => {\r\n          setEvents(events.map(ev => ev.id === editingEvent.id ? res.data : ev));\r\n          setShowForm(false);\r\n        })\r\n        .catch(err => console.error(err));\r\n    } else {\r\n      // Criar\r\n      api.post('/events', eventData, { headers: { Authorization: `Bearer ${token}` } })\r\n        .then(res => {\r\n          setEvents([...events, res.data]);\r\n          setShowForm(false);\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n  }\r\n\r\n  // Deletar evento\r\n  function handleDelete(eventId) {\r\n    api.delete(`/events/${eventId}`, { headers: { Authorization: `Bearer ${token}` } })\r\n      .then(() => {\r\n        setEvents(events.filter(ev => ev.id !== eventId));\r\n        setShowForm(false);\r\n      })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"calendar-container\">\r\n      <FullCalendar\r\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n        initialView=\"dayGridMonth\"\r\n        events={events}\r\n        dateClick={handleDateClick}\r\n        eventClick={handleEventClick}\r\n        editable={false}\r\n        selectable={true}\r\n        height=\"auto\"\r\n      />\r\n\r\n      {showForm && (\r\n        <EventForm\r\n          event={editingEvent}\r\n          date={selectedDate}\r\n          onSave={handleSave}\r\n          onDelete={handleDelete}\r\n          onClose={() => setShowForm(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}